---
name: Orchestrator Agent
status: open
created: 2025-09-10T11:41:46Z
updated: 2025-09-10T11:55:24Z
github: https://github.com/validis-group-holdings/validis-agent-psc/issues/22
depends_on: [002]
parallel: true
conflicts_with: []
---

# Task: Orchestrator Agent

## Description
Implement the Orchestrator Agent that analyzes user intent and routes requests to the appropriate specialist agent (Lending or Audit). The agent must maintain conversation context and handle ambiguous requests by asking for clarification.

## Acceptance Criteria
- [ ] Intent classification works for lending vs audit queries
- [ ] Conversation context maintained across messages
- [ ] Ambiguous requests trigger clarification prompts
- [ ] Routing logic correctly selects specialist agent
- [ ] Agent explains its routing decisions
- [ ] Template suggestions provided based on intent

## Technical Details
- Use LangChain for agent implementation
- Create custom prompt template for orchestration
- Implement memory using LangChain's ConversationBufferMemory
- Define clear routing rules (portfolio = lending, company = audit)
- Add logging for debugging routing decisions

## Dependencies
- [ ] Task 002 completed (database context)
- [ ] LangChain and Anthropic SDK configured

## Effort Estimate
- Size: L
- Hours: 16-20
- Parallel: true (can work alongside other agents)

## Definition of Done
- [ ] Agent correctly routes 95% of test queries
- [ ] Conversation context persists across messages
- [ ] Clarification prompts are helpful and clear
- [ ] Unit tests cover routing logic
- [ ] Integration test with mock agents passes
